<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Semana 6 - Base de Datos del Sistema Académico</title>
  <link rel="stylesheet" href="../assets/style1.css" />
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script defer src="../assets/interacciones.js"></script>
  <style>
    /* Navbar consistente con las demás páginas */
    nav.navbar {
      background-color: #1e293b;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    .navbar-left {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .navbar-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-link {
      display: flex;
      align-items: center;
    }

    .logo {
      height: 40px;
      width: auto;
      filter: drop-shadow(0 0 3px #00ffc3);
      transition: filter 0.3s ease;
    }

    .logo-link:hover .logo {
      filter: drop-shadow(0 0 6px #00cfa3);
    }

    .nombre-desarrollador-nav {
      color: #00ffc3;
      font-weight: bold;
      font-size: 1.1rem;
      padding: 8px 16px;
      border-radius: 5px;
      background: rgba(0, 255, 195, 0.1);
      border: 1px solid #00ffc3;
    }

    .navbar a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      padding: 8px 16px;
      border-radius: 5px;
      transition: background 0.3s ease, transform 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .navbar a:hover {
      background-color: #3b82f6;
      transform: scale(1.05);
    }

    .navbar a.clicked {
      background-color: #3b82f6;
    }

    /* Contenedor principal */
    .container {
      margin-top: 80px;
      padding: 20px;
      max-width: 1200px;
    }

    /* Encabezado */
    .encabezado-semana {
      text-align: center;
      margin-bottom: 40px;
      padding: 30px;
      background: rgba(30, 41, 59, 0.9);
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 255, 195, 0.2);
      border: 1px solid #334155;
    }

    .encabezado-semana h1 {
      color: #00ffc3;
      font-size: 2.5rem;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .encabezado-semana p {
      color: #cbd5e1;
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* Grid de contenido */
    .grid-contenido {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 30px;
      margin: 40px 0;
    }

    /* Tarjetas de temas */
    .tarjeta-tema {
      background: rgba(30, 41, 59, 0.9);
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 8px 25px rgba(0, 255, 195, 0.2);
      border: 1px solid #334155;
      transition: transform 0.3s ease;
    }

    .tarjeta-tema:hover {
      transform: translateY(-5px);
    }

    .tarjeta-tema h2 {
      color: #00ffc3;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.8rem;
    }

    .tarjeta-tema p {
      color: #cbd5e1;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    /* Acordeones mejorados */
    .acordeon {
      background: linear-gradient(135deg, #00ffc3, #00cfa3);
      color: #000;
      cursor: pointer;
      padding: 18px 20px;
      width: 100%;
      border: none;
      text-align: left;
      outline: none;
      font-size: 1.1rem;
      font-weight: bold;
      border-radius: 10px;
      margin: 15px 0;
      transition: all 0.3s ease;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .acordeon:hover {
      background: linear-gradient(135deg, #00cfa3, #00b393);
      transform: translateY(-2px);
    }

    .acordeon::after {
      content: "▶";
      transition: transform 0.3s ease;
    }

    .acordeon.active::after {
      transform: rotate(90deg);
    }

    .panel {
      background: rgba(255, 255, 255, 0.05);
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
      padding: 0 20px;
      border-radius: 0 0 10px 10px;
    }

    .panel.active {
      padding: 20px;
    }

    .panel ul {
      color: #cbd5e1;
      padding-left: 20px;
      margin: 15px 0;
    }

    .panel li {
      margin: 8px 0;
      line-height: 1.5;
    }

    /* Códigos resumidos */
    .codigo-resumido {
      background: #111;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      border-left: 4px solid #00ffc3;
    }

    .codigo-resumido pre {
      color: #0ff;
      margin: 0;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .codigo-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .codigo-header h4 {
      color: #00ffc3;
      margin: 0;
    }

    /* Características en grid */
    .caracteristicas-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .caracteristica {
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 10px;
      border-left: 4px solid #00ffc3;
      transition: transform 0.3s ease;
    }

    .caracteristica:hover {
      transform: translateY(-3px);
    }

    .caracteristica h4 {
      color: #00ffc3;
      margin-top: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .caracteristica ul {
      color: #cbd5e1;
      padding-left: 20px;
      margin: 10px 0 0 0;
    }

    .caracteristica li {
      margin: 5px 0;
    }

    /* Botones mejorados - MÁS LLAMATIVOS */
    .botones-accion {
      display: flex;
      gap: 15px;
      margin: 25px 0;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 26px;
      background: rgba(0, 255, 195, 0.15);
      color: #00ffc3;
      text-decoration: none;
      border-radius: 10px;
      border: 2px solid #00ffc3;
      transition: all 0.3s ease;
      font-weight: bold;
      font-size: 1rem;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 255, 195, 0.3);
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:hover {
      background: #00ffc3;
      color: #000;
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 255, 195, 0.6);
    }

    .btn:active {
      transform: translateY(-2px);
    }

    .btn.solucion {
      background: rgba(147, 51, 234, 0.15);
      border-color: #9333ea;
      color: #9333ea;
      box-shadow: 0 4px 15px rgba(147, 51, 234, 0.3);
    }

    .btn.solucion:hover {
      background: #9333ea;
      color: #fff;
      box-shadow: 0 8px 25px rgba(147, 51, 234, 0.6);
    }

    .btn.regresar {
      background: rgba(107, 114, 128, 0.15);
      border-color: #6b7280;
      color: #6b7280;
      margin: 30px auto;
      display: flex;
      justify-content: center;
      max-width: 200px;
      box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
    }

    .btn.regresar:hover {
      background: #6b7280;
      color: #fff;
      box-shadow: 0 8px 25px rgba(107, 114, 128, 0.6);
    }

    /* Mensaje informativo */
    .mensaje-informativo {
      background: rgba(59, 130, 246, 0.15);
      border: 2px solid #3b82f6;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
    }

    .mensaje-informativo p {
      color: #3b82f6;
      margin: 0;
      font-weight: bold;
      font-size: 1.1rem;
    }

    /* Estilos para el problema resuelto */
    .problema-resuelto {
      background: rgba(0, 255, 195, 0.05);
      border: 2px solid #00ffc3;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 4px 15px rgba(0, 255, 195, 0.1);
    }

    .problema-resuelto h4 {
      color: #00ffc3;
      margin-top: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .problema-resuelto p {
      color: #cbd5e1;
      line-height: 1.6;
    }

    /* Separador visual */
    .separador {
      height: 2px;
      background: linear-gradient(90deg, transparent, #00ffc3, transparent);
      margin: 25px 0;
      border: none;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .grid-contenido {
        grid-template-columns: 1fr;
      }
      
      .botones-accion {
        flex-direction: column;
      }
      
      .btn {
        justify-content: center;
      }
      
      .caracteristicas-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-left">
      <a href="../interfaz.html" class="logo-link" aria-label="Inicio">
        <img src="../IMG/UPLA.png" alt="Logo Universidad" class="logo" />
      </a>
      <div class="nombre-desarrollador-nav">
        <i class="fas fa-user"></i> Jhon Huaman Cardenas
      </div>
    </div>

    <div class="navbar-right">
      <a href="../interfaz.html"><i class="fas fa-home"></i> Inicio</a>
      <a href="../sobre-mi.html"><i class="fas fa-user"></i> Sobre mí</a>
      <a href="../tareas.html" class="clicked"><i class="fas fa-tasks"></i> Tareas</a>
    </div>
  </nav>

  <canvas id="particles"></canvas>

  <main class="container">
    <!-- Encabezado -->
    <section class="encabezado-semana fade-in">
      <h1><i class="fas fa-database"></i> Semana 6 - Base de Datos del Sistema Académico</h1>
      <p>Diseño e implementación de una base de datos MySQL para un sistema de gestión académica completo, incluyendo usuarios, cursos, calificaciones y relaciones complejas.</p>
    </section>

    <!-- Grid de características -->
    <div class="caracteristicas-grid fade-in">
      <div class="caracteristica">
        <h4><i class="fas fa-table"></i> Estructura de Tablas</h4>
        <ul>
          <li>Tabla Usuarios con roles</li>
          <li>Tabla Cursos con niveles</li>
          <li>Tabla Calificaciones detalladas</li>
          <li>Tabla Inscripciones relacional</li>
        </ul>
      </div>
      <div class="caracteristica">
        <h4><i class="fas fa-shield-alt"></i> Integridad de Datos</h4>
        <ul>
          <li>Claves primarias y foráneas</li>
          <li>Restricciones CHECK</li>
          <li>Validaciones de dominio</li>
          <li>Unicidad garantizada</li>
        </ul>
      </div>
      <div class="caracteristica">
        <h4><i class="fas fa-chart-line"></i> Datos de Ejemplo</h4>
        <ul>
          <li>Usuarios por roles</li>
          <li>Cursos con profesores</li>
          <li>Inscripciones activas</li>
          <li>Calificaciones históricas</li>
        </ul>
      </div>
    </div>

    <!-- Grid de contenido -->
    <div class="grid-contenido">
      <!-- Tarjeta Estructura de la Base de Datos -->
      <section class="tarjeta-tema fade-in">
        <h2><i class="fas fa-sitemap"></i> Estructura de la Base de Datos</h2>
        <p>Diseño completo del esquema de base de datos con tablas normalizadas, relaciones y restricciones para garantizar la integridad de los datos.</p>

        <button class="acordeon">
          <i class="fas fa-code"></i> Script de Creación de Base de Datos
        </button>
        <div class="panel">
          <div class="codigo-resumido">
            <div class="codigo-header">
              <h4><i class="fas fa-database"></i> Creación de Base de Datos y Tablas</h4>
            </div>
            <pre><code>-- =============================================
-- SISTEMA DE GESTIÓN ACADÉMICA - BASE DE DATOS
-- =============================================

-- Crear base de datos y seleccionarla
DROP DATABASE IF EXISTS sistema_gestion_academica;
CREATE DATABASE sistema_gestion_academica;
USE sistema_gestion_academica;

-- =============================================
-- TABLA: Usuarios
-- =============================================
CREATE TABLE Usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    ingresoUsuario VARCHAR(50) UNIQUE NOT NULL,
    ingresoContrasenia VARCHAR(100) NOT NULL,
    rol ENUM('admin', 'profesor', 'estudiante') NOT NULL DEFAULT 'estudiante',
    nombre VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    telefono VARCHAR(15),
    fecha_nacimiento DATE,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    activo BOOLEAN DEFAULT TRUE
);

-- =============================================
-- TABLA: Cursos
-- =============================================
CREATE TABLE Cursos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre_curso VARCHAR(100) NOT NULL,
    nivel ENUM('A1', 'A2', 'B1', 'B2', 'C1', 'C2') NOT NULL,
    descripcion TEXT,
    profesor_id INT NOT NULL,
    max_estudiantes INT DEFAULT 20,
    fecha_inicio DATE,
    fecha_fin DATE,
    activo BOOLEAN DEFAULT TRUE,
    fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (profesor_id) REFERENCES Usuarios(id)
);</code></pre>
          </div>
        </div>

        <button class="acordeon">
          <i class="fas fa-link"></i> Tablas Relacionales
        </button>
        <div class="panel">
          <div class="codigo-resumido">
            <div class="codigo-header">
              <h4><i class="fas fa-project-diagram"></i> Tablas de Relaciones y Calificaciones</h4>
            </div>
            <pre><code>-- =============================================
-- TABLA: Calificaciones
-- =============================================
CREATE TABLE Calificaciones (
    id INT AUTO_INCREMENT PRIMARY KEY,
    estudiante_id INT NOT NULL,
    curso_id INT NOT NULL,
    habilidad ENUM('speaking', 'writing', 'reading', 'listening', 'grammar', 'vocabulary') NOT NULL,
    puntaje DECIMAL(4,2) NOT NULL,
    fecha_evaluacion DATE NOT NULL,
    comentario TEXT,
    tipo_evaluacion ENUM('examen', 'tarea', 'proyecto', 'participacion') DEFAULT 'examen',
    periodo ENUM('Q1', 'Q2', 'Q3', 'Q4') NOT NULL,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (estudiante_id) REFERENCES Usuarios(id),
    FOREIGN KEY (curso_id) REFERENCES Cursos(id),
    CHECK (puntaje >= 0 AND puntaje <= 20),
    UNIQUE KEY unique_evaluacion (estudiante_id, curso_id, habilidad, fecha_evaluacion)
);

-- =============================================
-- TABLA: Inscripciones (Relación muchos a muchos)
-- =============================================
CREATE TABLE Inscripciones (
    id INT AUTO_INCREMENT PRIMARY KEY,
    estudiante_id INT NOT NULL,
    curso_id INT NOT NULL,
    fecha_inscripcion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    estado ENUM('activo', 'completado', 'cancelado') DEFAULT 'activo',
    FOREIGN KEY (estudiante_id) REFERENCES Usuarios(id),
    FOREIGN KEY (curso_id) REFERENCES Cursos(id),
    UNIQUE KEY unique_inscripcion (estudiante_id, curso_id)
);</code></pre>
          </div>
        </div>
      </section>

      <!-- Tarjeta Datos y Consultas -->
      <section class="tarjeta-tema fade-in">
        <h2><i class="fas fa-server"></i> Datos de Ejemplo y Consultas</h2>
        <p>Inserción de datos de prueba y consultas SQL para verificar el funcionamiento del sistema académico.</p>

        <!-- Único acordeón que contiene todo el problema resuelto -->
        <button class="acordeon">
          <i class="fas fa-lightbulb"></i> Datos de Ejemplo y Consultas
        </button>
        <div class="panel">
          <div class="problema-resuelto">
            <h4><i class="fas fa-question-circle"></i> Descripción del Dataset</h4>
            <p>Se han insertado datos de ejemplo completos que incluyen usuarios con diferentes roles (admin, profesor, estudiante), cursos organizados por niveles, inscripciones de estudiantes y calificaciones detalladas por habilidades específicas.</p>
            
            <h4><i class="fas fa-check-circle"></i> Datos Insertados</h4>
            <p>El dataset incluye información realista para pruebas y demostración del sistema, con relaciones completas entre todas las tablas y datos que permiten realizar consultas complejas.</p>
            
            <!-- Inserción de Usuarios -->
            <div class="codigo-resumido">
              <div class="codigo-header">
                <h4><i class="fas fa-users"></i> Inserción de Usuarios</h4>
              </div>
              <pre><code>-- Administradores
INSERT INTO Usuarios (ingresoUsuario, ingresoContrasenia, rol, nombre, email, telefono, fecha_nacimiento) VALUES
('admin', 'admin123', 'admin', 'María González', 'maria.gonzalez@instituto.edu', '+1234567890', '1980-05-15'),
('sistema', 'sistema456', 'admin', 'Carlos Rodríguez', 'carlos.rodriguez@instituto.edu', '+1234567891', '1975-08-22');

-- Profesores
INSERT INTO Usuarios (ingresoUsuario, ingresoContrasenia, rol, nombre, email, telefono, fecha_nacimiento) VALUES
('profe_ana', 'profe123', 'profesor', 'Ana Martínez', 'ana.martinez@instituto.edu', '+1234567892', '1985-03-10'),
('profe_luis', 'profe456', 'profesor', 'Luis Fernández', 'luis.fernandez@instituto.edu', '+1234567893', '1978-11-30');

-- Estudiantes
INSERT INTO Usuarios (ingresoUsuario, ingresoContrasenia, rol, nombre, email, telefono, fecha_nacimiento) VALUES
('est_juan', 'est123', 'estudiante', 'Juan Pérez', 'juan.perez@estudiante.edu', '+1234567895', '2000-01-20'),
('est_maria', 'est456', 'estudiante', 'María López', 'maria.lopez@estudiante.edu', '+1234567896', '2001-03-15');</code></pre>
            </div>

            <!-- Inserción de Cursos -->
            <div class="codigo-resumido">
              <div class="codigo-header">
                <h4><i class="fas fa-book"></i> Inserción de Cursos</h4>
              </div>
              <pre><code>INSERT INTO Cursos (nombre_curso, nivel, descripcion, profesor_id, max_estudiantes, fecha_inicio, fecha_fin) VALUES
('Inglés Básico I', 'A1', 'Curso introductorio de inglés para principiantes. Enfoque en vocabulario esencial y conversación básica.', 3, 15, '2024-01-15', '2024-06-15'),
('Inglés Intermedio', 'B1', 'Desarrollo de habilidades comunicativas intermedias. Gramática y conversación fluida.', 3, 12, '2024-01-15', '2024-06-15'),
('Conversación Avanzada', 'C1', 'Perfeccionamiento del speaking y listening. Enfoque en fluidez y pronunciación.', 4, 10, '2024-02-01', '2024-07-01');</code></pre>
            </div>

            <!-- Consultas de Verificación -->
            <div class="codigo-resumido">
              <div class="codigo-header">
                <h4><i class="fas fa-search"></i> Consultas de Verificación</h4>
              </div>
              <pre><code>-- Verificar usuarios por rol
SELECT rol, COUNT(*) as total FROM Usuarios GROUP BY rol;

-- Verificar cursos y profesores
SELECT c.nombre_curso, c.nivel, u.nombre as profesor 
FROM Cursos c 
JOIN Usuarios u ON c.profesor_id = u.id;

-- Verificar calificaciones promedio por estudiante
SELECT u.nombre as estudiante, c.nombre_curso, AVG(cal.puntaje) as promedio
FROM Calificaciones cal
JOIN Usuarios u ON cal.estudiante_id = u.id
JOIN Cursos c ON cal.curso_id = c.id
GROUP BY u.nombre, c.nombre_curso
ORDER BY promedio DESC;</code></pre>
            </div>
          </div>
          
          <hr class="separador">
          
          <!-- Sección de recursos -->
          <div class="botones-accion">
            <a href="https://github.com/JhonFHC/mi-proyecto-web/tree/main/semanas/Semana6" class="btn solucion" target="_blank">
              <i class="fas fa-database"></i> Ver Base de Datos Completa
            </a>
          </div>
          
          <div class="mensaje-informativo">
            <p><i class="fas fa-info-circle"></i> ¡Visita GitHub para explorar el script completo de la base de datos con todas las tablas, datos y consultas!</p>
          </div>
        </div>
      </section>
    </div>

    <!-- Frase célebre -->
    <section class="encabezado-semana fade-in">
      <blockquote>"Los datos son el nuevo petróleo, pero la base de datos es el motor que lo procesa." – Anónimo</blockquote>
    </section>

    <!-- Botón de regresar -->
    <a href="../tareas.html" class="btn regresar">
      <i class="fas fa-arrow-left"></i> Volver a Tareas
    </a>
  </main>

  <script>
    // Funcionalidad de acordeones
    document.addEventListener('DOMContentLoaded', function() {
      const acordeones = document.querySelectorAll('.acordeon');

      acordeones.forEach((btn) => {
        btn.addEventListener('click', function () {
          this.classList.toggle('active');
          const panel = this.nextElementSibling;
          
          if (panel.style.maxHeight) {
            panel.style.maxHeight = null;
            panel.classList.remove('active');
          } else {
            panel.style.maxHeight = panel.scrollHeight + 'px';
            panel.classList.add('active');
          }
        });
      });
    });
  </script>
</body>
</html>